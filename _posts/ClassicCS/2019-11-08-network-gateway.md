---
title : OSI 7 - Network Gateway
excerpt : Detail - Network Gateway

categories:
  - ClassicCS
tags:
  - ClassicCS
  - Network
---  

## Gateway

네트워크에서의 게이트웨이는 현재 사용자가 위치한 네트워크(정확히는 세그먼트-segment)에서 다른 네트워크(인터넷 등)로 이동하기 위해 반드시 거쳐야 하는 거점을 의미한다. 자동차 고속도로로 진입하기 위해 통과하는 톨게이트(tollgate)와 유사한 개념이다.

두 컴퓨터(node)가 네트워크 상에서 서로 연결되려면 동일한 통신 프로토콜을 사용해야 한다. 따라서 프로토콜이 다른 네트워크 상의 컴퓨터와 통신하려면 두 프로토콜을 적절히 변환해 주는 변환기가 필요한데, 게이트웨이가 바로 이러한 변환기 역할을 한다.  

![image](https://user-images.githubusercontent.com/44635266/68399503-d574ca80-01b9-11ea-9f06-bd99611c9589.png)

게이트웨이는 일반적으로 하드웨어 형태로 제공되며, 흔히 보는 네트워크 허브나 스위치 등과 비슷하게 생겼다.  
공유기는 게이트웨이, 라우터, 방화벽 등을 동시에 제공하는 종합 네트워크 장비다. 즉, 실생활에서 찾아볼 수 있는 공유기가 우리가 만나는 첫 번째 게이트웨이다. 공유기는 사용자 컴퓨터의 네트워크와 인터넷을 연결하여 사용자가 웹 사이트에 접근할 수 있도록 관문을 열어 준다. 사용자가 속해 있는 (로컬) 네트워크의 통신 프로토콜(예, netbios)과 인터넷의 통신 프로토콜(예, http)이 다르기 때문이다. 

![image](https://user-images.githubusercontent.com/44635266/68399508-d6a5f780-01b9-11ea-854a-c2188a4d92aa.png)

하지만, 게이트웨이는 하나 이상의 프로토콜을 사용하여 통신한다는 면에서 라우터, 스위치와는 다르다. OSI 참조 모델의 7계층 가운데 어느 곳에서도 동작이 가능하고 다른 기종끼리도 접속을 가능하게 한다.  

컴퓨터에서 목적지 네트워크까지 도달하기 위해 여러 게이트웨이를 거칠 수 있다. 고속도로를 갈아탈 때마다 톨게이트를 지나야 하는 것과 같다. 또한 톨게이트를 지날 때마다 통행료가 부가되듯, 게이트웨이를 거칠 때마다 네트워크 부하(트래픽, traffic)도 증가하여 전송 속도가 느려질 수 있다(이때 거치는 게이트웨이의 수를 hop count라 함).

> 인터넷을 위한 필수 조건

로컬 네트워크에서는 IP 주소와 서브넷마스크(subnet mask)만 있어도 통신이 가능하다. 하지만 인터넷 등의 이기종 네트워크로 나가기 위해서는 게이트웨이(라우터 등)가 있어야 하고, IP 주소, 서브넷 마스크와 함께 게이트웨이 주소까지 정확하게 설정해야 한다.

![image](https://user-images.githubusercontent.com/44635266/68399611-01904b80-01ba-11ea-9358-4184d5ef0aad.png)

컴퓨터가 서로 통신하기 위해서는 모든 컴퓨터마다 유일한 IP 주소를 할당해야 하듯, 게이트웨이에도 중복되지 않는 IP 주소가 필요하다. 이 IP 주소를 토대로 각 컴퓨터가 다른 네트워크와 연결된다. 일반적으로 게이트웨이의 IP 주소는 해당 네트워크 내 컴퓨터에 할당된 IP 주소 중 끝자리만 다르다. 예를 들어 컴퓨터 IP 주소가 123.123.123.123이라면, 게이트웨이 주소는 123.123.123.1이 된다. 게이트웨이 IP 주소 설정이 잘못되면 외부 네트워크(인터넷) 연결이 불가능하다.
