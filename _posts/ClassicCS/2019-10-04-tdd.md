---
title : TDD 
excerpt : Detail - Test Driven Development

categories:
  - ClassicCS
tags:
  - ClassicCS
---

## TDD

![image](https://user-images.githubusercontent.com/34998051/68546393-0acb2380-0419-11ea-8017-f729a7ffe3e5.png)

1. 무엇을 테스트할 것인가 생각한다.
2. 실패하는 테스트를 작성한다.
3. 테스트를 통과하는 코드를 작성한다.
4. 코드를 리팩토링한다. (테스트코드 또한 리팩토링한다)
5. 구현해야 할 것이 있을 때까지 위의 작업을 반복한다.

Test-Driven Development(TDD)는 매우 짧은 개발 사이클의 반복에 의존하는 소프트웨어 개발 프로세스이다. 개발자는 요구되는 새로운 기능에 대한 자동화된 테스트케이스를 작성하고 해당 테스트를 통과하는 가장 간단한 코드를 작성한다. 말 그대로 테스트가 코드 작성을 주도하는 개발방식이다.  

*Add a test*

테스트 주도형 개발에선, 새로운 기능을 추가하기 전 테스트를 먼저 작성한다. 테스트를 위해서 개발자는 해당 기능의 요구사항과 명세를 분명히 이해하고 있어야 한다. 이는 사용자 케이스와 사용자 스토리 등으로 이해할 수 있으며, 개발자가 코드를 작성하기 전에 요구사항에 집중할 수 있도록 도와준다.  

*Run all tests and see if new one fails*

새로운 기능을 추가하면 기존 기능이 제대로 작동하지 않는 경우가 발생할 수 있다. 더 위험한 경우는 개발자가 이를 미처 인지하지 못하는 경우이다. 이러한 경우를 방지하기 위해 테스트 코드를 작성한다. 새로운 기능을 추가할 때 테스트 코드를 작성함으로써, 새로운 기능이 테스트와 동시에 기존의 기능들이 잘 작동하는지 확인한다.  

*Refactor code*

‘좋은 코드’란 어렵다. 코드를 작성할 때 고려해야 할 요소가 한 두 가지가 아니기 때문이다. 가독성이 좋게 coding convention을 맞춰야 하며, 네이밍 규칙을 적용하여 메소드명, 변수명, 클래스명에 일관성을 줘야하며, 확장성 또한 고려해야 한다. 이와 동시에 비즈니스 로직, 예외처리 부분 역시 빠뜨릴 수 없다. 물론 코드량이 적을 때는 이런 저런 것들을 모두 신경쓰면서 코드를 작성할 수 있지만 끊임없이 발견되는 버그들을 디버깅하는 과정에서 코드가 더럽혀진다.

이러한 이유로 코드량이 방대해지면서 리팩토링을 하게 된다. 이 때 테스트 주도 개발을 통해 개발을 해왔다면, 테스트 코드가 중심이 된다. 뚱뚱해진 함수를 여러 함수로 나누며 오작동을 일으킬 수 있지만 간단히 테스트를 돌려봄으로써 리팩토링을 계속 진행할 수 있다. 결과적으로 리팩토링 속도도 빨라지고 코드의 퀄리티도 향상된다. 코드 퀄리티 부분을 조금 상세히 들어가보면, 보다 객체지향적이고 확장 가능이 용이한 코드, 재설계의 시간을 단축시킬 수 있는 코드, 디버깅 시간이 단축되는 코드가 TDD 와 함께 탄생하는 것이다.  

코드를 작성하는 과정에서는 결국 제대로 작동하는지 판단해야하는 시점이 온다. 또 테스트에 대한 문서도 만들어야 한다. 그 부분을 자동으로 해주면서, 코드 작성에 도움을 주는 것이 TDD 인 것이다.  
