---
title: "Algorithm_Closest Pair"
excerpt: "Divide and Conquer"

categories:
  - ClassicCS
tags:
  - ClassicCS
  - Algorithm
  - python
last_modified_at: 2018-09-12T08:20:00
---

Colsest Pair 알고리즘을 Divide and Conquer와 Brutal로 코딩해 둘 간의 시간 복잡도를 비교한 프로그램입니다.

```python

#!/usr/bin/env python
# coding: utf-8

# Sorting X,Y

# In[50]:


def solution(x, y):
    a = list(zip(x, y))
    ax = sorted(a, key=lambda x: x[0])
    ay = sorted(a, key=lambda x: x[1])
    p1, p2, mi = closest_pair(ax, ay)
    return p1, p2, mi


# Closest_pair

# In[51]:


def closest_pair(ax, ay):
    ln_ax = len(ax)
    if ln_ax <= 3:
        return brute(ax)
    mid = ln_ax // 2
    Qx = ax[:mid]
    Rx = ax[mid:]
    
    midpoint = ax[mid][0]  
    Qy = list()
    Ry = list()
    for x in ay: 
        if x[0] <= midpoint:
           Qy.append(x)
        else:
           Ry.append(x)
        
        
    (p1, q1, mi1) = closest_pair(Qx, Qy)
    (p2, q2, mi2) = closest_pair(Rx, Ry)
    
    if mi1 <= mi2:
        d = mi1
        mn = (p1, q1)
    else:
        d = mi2
        mn = (p2, q2)
        
    (p3, q3, mi3) = closest_split_pair(ax, ay, d, mn)
    
    if d <= mi3:
        return mn[0], mn[1], d
    else:
        return p3, q3, mi3


# Brutal_

# In[52]:


def brute(ax):
    mi = dist(ax[0], ax[1])
    p1 = ax[0]
    p2 = ax[1]
    ln_ax = len(ax)
    if ln_ax == 2:
        return p1, p2, mi
    for i in range(ln_ax-1):
        for j in range(i + 1, ln_ax):
            if i != 0 and j != 1:
                d = dist(ax[i], ax[j])
                if d < mi:
                    mi = d
                    p1, p2 = ax[i], ax[j]
    return p1, p2, mi


# Dist

# In[53]:


import math
def dist(p1, p2):
    return math.sqrt((p1[0] - p2[0]) ** 2 + (p1[1] - p2[1]) ** 2)


# Closest_split_pair

# In[54]:


def closest_split_pair(p_x, p_y, delta, best_pair):
    ln_x = len(p_x)
    mx_x = p_x[ln_x // 2][0]
    
    s_y = [x for x in p_y if mx_x - delta <= x[0] <= mx_x + delta]
    best = delta
    ln_y = len(s_y)
    for i in range(ln_y - 1):
        for j in range(i+1, min(i + 7, ln_y)):
            p, q = s_y[i], s_y[j]
            dst = dist(p, q)
            if dst < best:
                best_pair = p, q
                best = dst
    return best_pair[0], best_pair[1], best




# Main_제출

# In[ ]:


print("Closest Pair 프로그램")
X=[]
Y=[]
i=0
while True:
    i+=1
    X.append(int(input("%d 번째 x 좌표를 입력해주세요"%i)))
    Y.append(int(input("%d 번째 y 좌표를 입력해주세요"%i)))
    Flag=int(input("종료를 원하시면 0을, 아니면 다른 숫자를 입력해주세요"))
    if Flag==0: break

    
print(solution(X,Y))

# Test for Big O

# In[55]:

'''
import random
def test_case(length: int = 10000):
    lst1 = [random.randint(-10**9, 10**9) for i in range(length)]
    lst2 = [random.randint(-10**9, 10**9) for i in range(length)]
    return lst1, lst2


# Main_Test

# In[61]:


import time
Time=[]

for i in range(2,1000,1):
    xlist, ylist=test_case(i)
    start_time=time.time()
    solution(xlist,ylist)
    Time.append(time.time()-start_time)
    
print(Time)


# C언어, 파이썬 그래프 출력

# In[66]:


Time_C=[0.000008, 0.000001, 0.000001, 0.000001, 0.000002, 0.000001, 0.000002, 0.000002, 0.000001, 0.000001, 0.000003, 0.000001, 0.000002, 0.000003, 0.000001, 0.000002, 0.000003, 0.000003, 0.000002, 0.000003, 0.000003, 0.000003, 0.000002, 0.000003, 0.000004, 0.000003, 0.000004, 0.000004, 0.000005, 0.000003, 0.000004, 0.000005, 0.000004, 0.000004, 0.000005, 0.000005, 0.000005, 0.000004, 0.000005, 0.000006, 0.000005, 0.000006, 0.000006, 0.000006, 0.000006, 0.000007, 0.000007, 0.000007, 0.000006, 0.000008, 0.000007, 0.000007, 0.000007, 0.000008, 0.000007, 0.000008, 0.000009, 0.000008, 0.000008, 0.000009, 0.000008, 0.000008, 0.000010, 0.000010, 0.000009, 0.000010, 0.000009, 0.000009, 0.000010, 0.000010, 0.000009, 0.000011, 0.000011, 0.000010, 0.000011, 0.000011, 0.000010, 0.000010, 0.000011, 0.000012, 0.000011, 0.000011, 0.000012, 0.000011, 0.000012, 0.000013, 0.000013, 0.000012, 0.000013, 0.000014, 0.000013, 0.000014, 0.000014, 0.000013, 0.000014, 0.000015, 0.000014, 0.000014, 0.000016, 0.000016, 0.000014, 0.000015, 0.000015, 0.000015, 0.000015, 0.000016, 0.000016, 0.000016, 0.000017, 0.000016, 0.000016, 0.000017, 0.000017, 0.000016, 0.000018, 0.000017, 0.000017, 0.000019, 0.000018, 0.000019, 0.000018, 0.000019, 0.000018, 0.000019, 0.000019, 0.000020, 0.000019, 0.000020, 0.000021, 0.000020, 0.000021, 0.000021, 0.000021, 0.000021, 0.000021, 0.000020, 0.000022, 0.000020, 0.000021, 0.000021, 0.000023, 0.000031, 0.000032, 0.000024, 0.000022, 0.000039, 0.000023, 0.000024, 0.000023, 0.000023, 0.000024, 0.000025, 0.000024, 0.000025, 0.000024, 0.000024, 0.000025, 0.000025, 0.000025, 0.000026, 0.000025, 0.000025, 0.000026, 0.000025, 0.000028, 0.000027, 0.000027, 0.000027, 0.000026, 0.000028, 0.000028, 0.000027, 0.000029, 0.000029, 0.000041, 0.000029, 0.000029, 0.000030, 0.000028, 0.000029, 0.000029, 0.000029, 0.000031, 0.000030, 0.000029, 0.000030, 0.000032, 0.000030, 0.000031, 0.000032, 0.000030, 0.000032, 0.000032, 0.000032, 0.000034, 0.000032, 0.000032, 0.000042, 0.000033, 0.000033, 0.000034, 0.000032, 0.000034, 0.000033, 0.000033, 0.000033, 0.000034, 0.000035, 0.000034, 0.000036, 0.000036, 0.000035, 0.000036, 0.000035, 0.000035, 0.000037, 0.000037, 0.000037, 0.000037, 0.000038, 0.000037, 0.000039, 0.000039, 0.000038, 0.000038, 0.000046, 0.000040, 0.000039, 0.000050, 0.000042, 0.000039, 0.000040, 0.000040, 0.000040, 0.000041, 0.000040, 0.000040, 0.000039, 0.000041, 0.000041, 0.000041, 0.000041, 0.000041, 0.000041, 0.000042, 0.000042, 0.000043, 0.000045, 0.000040, 0.000042, 0.000043, 0.000042, 0.000043, 0.000043, 0.000043, 0.000043, 0.000043, 0.000043, 0.000045, 0.000043, 0.000045, 0.000042, 0.000044, 0.000046, 0.000045, 0.000046, 0.000046, 0.000044, 0.000047, 0.000045, 0.000046, 0.000048, 0.000046, 0.000047, 0.000047, 0.000048, 0.000049, 0.000047, 0.000048, 0.000047, 0.000049, 0.000048, 0.000048, 0.000050, 0.000049, 0.000049, 0.000049, 0.000049, 0.000050, 0.000050, 0.000050, 0.000050, 0.000051, 0.000051, 0.000050, 0.000053, 0.000051, 0.000052, 0.000052, 0.000051, 0.000053, 0.000051, 0.000053, 0.000052, 0.000054, 0.000054, 0.000053, 0.000054, 0.000054, 0.000053, 0.000054, 0.000054, 0.000056, 0.000058, 0.000055, 0.000054, 0.000055, 0.000055, 0.000056, 0.000057, 0.000056, 0.000055, 0.000057, 0.000062, 0.000058, 0.000056, 0.000058, 0.000058, 0.000058, 0.000064, 0.000058, 0.000059, 0.000060, 0.000060, 0.000059, 0.000060, 0.000059, 0.000061, 0.000060, 0.000060, 0.000059, 0.000061, 0.000069, 0.000064, 0.000069, 0.000062, 0.000064, 0.000073, 0.000069, 0.000063, 0.000073, 0.000065, 0.000065, 0.000063, 0.000065, 0.000063, 0.000069, 0.000071, 0.000092, 0.000084, 0.000074, 0.000089, 0.000079, 0.000070, 0.000074, 0.000067, 0.000073, 0.000067, 0.000069, 0.000068, 0.000066, 0.000068, 0.000068, 0.000069, 0.000069, 0.000067, 0.000068, 0.000066, 0.000070, 0.000068, 0.000069, 0.000075, 0.000069, 0.000072, 0.000070, 0.000070, 0.000068, 0.000070, 0.000070, 0.000069, 0.000070, 0.000071, 0.000070, 0.000071, 0.000072, 0.000070, 0.000073, 0.000073, 0.000072, 0.000072, 0.000071, 0.000075, 0.000073, 0.000075, 0.000075, 0.000076, 0.000073, 0.000075, 0.000075, 0.000077, 0.000076, 0.000077, 0.000077, 0.000076, 0.000074, 0.000075, 0.000076, 0.000077, 0.000075, 0.000077, 0.000076, 0.000076, 0.000076, 0.000077, 0.000077, 0.000078, 0.000078, 0.000078, 0.000077, 0.000079, 0.000079, 0.000080, 0.000080, 0.000080, 0.000079, 0.000080, 0.000079, 0.000080, 0.000081, 0.000082, 0.000080, 0.000082, 0.000080, 0.000081, 0.000082, 0.000081, 0.000082, 0.000083, 0.000081, 0.000082, 0.000082, 0.000083, 0.000082, 0.000086, 0.000083, 0.000084, 0.000084, 0.000086, 0.000084, 0.000086, 0.000086, 0.000085, 0.000085, 0.000086, 0.000086, 0.000086, 0.000086, 0.000086, 0.000089, 0.000086, 0.000088, 0.000086, 0.000087, 0.000088, 0.000089, 0.000088, 0.000089, 0.000088, 0.000089, 0.000090, 0.000089, 0.000089, 0.000088, 0.000089, 0.000088, 0.000092, 0.000090, 0.000091, 0.000093, 0.000093, 0.000090, 0.000093, 0.000093, 0.000094, 0.000092, 0.000094, 0.000094, 0.000094, 0.000094, 0.000094, 0.000095, 0.000095, 0.000097, 0.000095, 0.000095, 0.000094, 0.000094, 0.000099, 0.000096, 0.000095, 0.000096, 0.000099, 0.000095, 0.000095, 0.000097, 0.000096, 0.000097, 0.000098, 0.000096, 0.000099, 0.000097, 0.000098, 0.000098, 0.000100, 0.000099, 0.000099, 0.000098, 0.000100, 0.000099, 0.000099, 0.000100, 0.000102, 0.000103, 0.000100, 0.000101, 0.000100, 0.000103, 0.000103, 0.000102, 0.000101, 0.000103, 0.000101, 0.000102, 0.000104, 0.000104, 0.000105, 0.000104, 0.000105, 0.000107, 0.000107, 0.000106, 0.000106, 0.000108, 0.000106, 0.000104, 0.000107, 0.000105, 0.000105, 0.000106, 0.000105, 0.000108, 0.000104, 0.000106, 0.000109, 0.000106, 0.000107, 0.000108, 0.000107, 0.000107, 0.000107, 0.000109, 0.000108, 0.000109, 0.000109, 0.000110, 0.000113, 0.000110, 0.000110, 0.000108, 0.000112, 0.000109, 0.000109, 0.000112, 0.000110, 0.000111, 0.000112, 0.000112, 0.000112, 0.000113, 0.000114, 0.000114, 0.000116, 0.000113, 0.000115, 0.000114, 0.000113, 0.000114, 0.000114, 0.000113, 0.000113, 0.000114, 0.000115, 0.000116, 0.000115, 0.000117, 0.000132, 0.000130, 0.000123, 0.000118, 0.000118, 0.000117, 0.000117, 0.000117, 0.000117, 0.000117, 0.000120, 0.000118, 0.000119, 0.000117, 0.000119, 0.000121, 0.000118, 0.000120, 0.000120, 0.000120, 0.000119, 0.000120, 0.000120, 0.000121, 0.000120, 0.000121, 0.000121, 0.000121, 0.000123, 0.000122, 0.000124, 0.000125, 0.000124, 0.000124, 0.000129, 0.000124, 0.000124, 0.000124, 0.000125, 0.000123, 0.000125, 0.000125, 0.000124, 0.000126, 0.000125, 0.000127, 0.000125, 0.000126, 0.000126, 0.000127, 0.000130, 0.000130, 0.000129, 0.000127, 0.000128, 0.000127, 0.000129, 0.000129, 0.000129, 0.000129, 0.000138, 0.000132, 0.000130, 0.000133, 0.000132, 0.000131, 0.000130, 0.000132, 0.000131, 0.000130, 0.000133, 0.000132, 0.000132, 0.000134, 0.000131, 0.000132, 0.000131, 0.000134, 0.000133, 0.000133, 0.000135, 0.000132, 0.000136, 0.000134, 0.000137, 0.000135, 0.000138, 0.000137, 0.000134, 0.000136, 0.000135, 0.000136, 0.000135, 0.000137, 0.000138, 0.000137, 0.000137, 0.000136, 0.000139, 0.000138, 0.000140, 0.000139, 0.000139, 0.000139, 0.000140, 0.000140, 0.000140, 0.000139, 0.000140, 0.000140, 0.000139, 0.000141, 0.000141, 0.000142, 0.000150, 0.000173, 0.000169, 0.000160, 0.000147, 0.000144, 0.000143, 0.000142, 0.000143, 0.000143, 0.000144, 0.000144, 0.000146, 0.000145, 0.000146, 0.000143, 0.000145, 0.000146, 0.000148, 0.000148, 0.000147, 0.000147, 0.000147, 0.000147, 0.000145, 0.000148, 0.000148, 0.000147, 0.000152, 0.000150, 0.000152, 0.000147, 0.000148, 0.000149, 0.000150, 0.000150, 0.000150, 0.000154, 0.000152, 0.000154, 0.000152, 0.000152, 0.000154, 0.000153, 0.000153, 0.000154, 0.000153, 0.000155, 0.000158, 0.000156, 0.000168, 0.000172, 0.000157, 0.000153, 0.000153, 0.000154, 0.000155, 0.000152, 0.000155, 0.000157, 0.000158, 0.000155, 0.000156, 0.000155, 0.000157, 0.000155, 0.000157, 0.000156, 0.000158, 0.000157, 0.000158, 0.000158, 0.000158, 0.000159, 0.000159, 0.000167, 0.000168, 0.000160, 0.000160, 0.000157, 0.000161, 0.000160, 0.000160, 0.000159, 0.000162, 0.000162, 0.000164, 0.000161, 0.000164, 0.000163, 0.000162, 0.000162, 0.000162, 0.000164, 0.000163, 0.000164, 0.000169, 0.000177, 0.000170, 0.000163, 0.000164, 0.000163, 0.000164, 0.000165, 0.000163, 0.000164, 0.000164, 0.000164, 0.000166, 0.000167, 0.000167, 0.000168, 0.000166, 0.000167, 0.000168, 0.000166, 0.000166, 0.000169, 0.000167, 0.000170, 0.000169, 0.000169, 0.000167, 0.000171, 0.000172, 0.000169, 0.000170, 0.000171, 0.000171, 0.000171, 0.000169, 0.000171, 0.000173, 0.000173, 0.000178, 0.000172, 0.000171, 0.000173, 0.000174, 0.000172, 0.000174, 0.000174, 0.000176, 0.000189, 0.000183, 0.000178, 0.000174, 0.000174, 0.000174, 0.000173, 0.000176, 0.000173, 0.000177, 0.000176, 0.000178, 0.000175, 0.000178, 0.000178, 0.000177, 0.000178, 0.000180, 0.000212, 0.000179, 0.000188, 0.000190, 0.000210, 0.000183, 0.000205, 0.000197, 0.000186, 0.000180, 0.000181, 0.000179, 0.000180, 0.000180, 0.000180, 0.000182, 0.000183, 0.000184, 0.000186, 0.000185, 0.000184, 0.000201, 0.000191, 0.000185, 0.000185, 0.000183, 0.000183, 0.000185, 0.000185, 0.000185, 0.000188, 0.000184, 0.000185, 0.000185, 0.000190, 0.000185, 0.000201, 0.000187, 0.000197, 0.000187, 0.000187, 0.000186, 0.000188, 0.000188, 0.000190, 0.000188, 0.000190, 0.000190, 0.000190, 0.000190, 0.000187, 0.000191, 0.000190, 0.000190, 0.000192, 0.000192, 0.000190, 0.000192, 0.000193, 0.000203, 0.000195, 0.000216, 0.000204, 0.000193, 0.000194, 0.000192, 0.000194, 0.000195, 0.000194, 0.000194, 0.000196, 0.000195, 0.000194, 0.000195, 0.000193, 0.000195, 0.000196, 0.000199, 0.000197, 0.000199, 0.000201, 0.000198, 0.000194, 0.000196, 0.000198, 0.000198, 0.000200, 0.000198, 0.000196, 0.000198, 0.000202, 0.000196, 0.000199, 0.000199, 0.000200, 0.000201, 0.000200, 0.000200, 0.000202, 0.000204, 0.000243, 0.000218, 0.000211, 0.000208, 0.000217, 0.000208, 0.000211, 0.000204, 0.000201, 0.000202, 0.000206, 0.000204, 0.000204, 0.000205, 0.000204, 0.000202, 0.000204, 0.000206, 0.000203]

import matplotlib.pyplot as plt

plt.plot(Time)
plt.plot(Time_C)

plt.show()


# In[67]:


plt.plot(Time_C)

plt.show()


# In[68]:


plt.plot(Time)

plt.show()
'''


```

글 제목: {{page.title}}
수정 시간: {{page.last_modified_at}}
